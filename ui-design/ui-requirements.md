# E-Torch: UI 요구사항 명세서

## 1. 개요

### 1.1 목적 및 범위

**서비스명**: E-Torch (eTorch, etorch)

- **의미**: "경제에 횃불을 더해 길을 밝혀준다"는 의미로, 복잡한 경제 데이터를 누구나 쉽게 이해하고 활용할 수 있도록 시각화하는 서비스입니다.

**핵심 목적**:

- 📊 **데이터 통합 자동화**: KOSIS, ECOS, OECD 등의 API를 개발자 친화적 형태로 제공
- 🎯 **중장기 투자 분석 도구**: 거시경제 관점에서 중장기 투자 방향 설정을 위한 경제지표 시각화 및 인사이트 도출  
- 🔧 **수작업 자동화**: 기존 분석가들이 수행하던 데이터 수집→정리→시각화 과정의 완전 자동화

**핵심 차별화 포인트**:

- **시장 최초**: 국내 경제지표(KOSIS, ECOS, OECD)를 통합 시각화하는 플랫폼 부재
- **Pain Point 해결**: PDF/한글문서 수동 파싱 → 엑셀 정리 → 차트 생성의 번거로운 과정 자동화
- **개발자 친화적**: API 형태의 구조화된 데이터 제공으로 추가 활용 가능

본 문서는 E-Torch 경제지표 대시보드 서비스의 사용자 인터페이스 요구사항을 정의합니다.

### 1.2 문서 구조

본 문서는 다음과 같은 구조로 구성되어 있습니다:

- 서비스 핵심 기능 요구사항: 대시보드, 차트, 사용자 관리 등 주요 기능 정의
- 차트 컴포넌트 상세 기능 명세: 다양한 차트 유형과 옵션에 대한 상세 기능 명세
- UI/UX 공통 요구사항: 레이아웃, 테마, 피드백 등 공통 UI 요소 정의
- 성능 및 기술 요구사항: 성능, 호환성, 기술적 제약조건 정의
- 사용자 경험 요구사항: 사용성, 접근성, 사용자 집단별 요구사항 정의

### 1.3 용어 정의

#### 서비스 핵심 개념

- **대시보드**: 여러 차트와 위젯을 배치하여 만든 시각화 화면
- **위젯**: 대시보드에 배치되는 개별 요소 (차트형 위젯, 텍스트형 위젯)
- **차트형 위젯**: 경제지표 데이터를 시각적으로 표현하는 그래프 위젯
  - Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart (총 5가지 유형)
- **텍스트형 위젯**: 텍스트 콘텐츠를 표시하는 위젯
  - 사용자 정의 텍스트: 사용자가 직접 작성한 마크다운/HTML 콘텐츠
  - 데이터 기반 텍스트: 경제지표 데이터를 기반으로 자동 생성되는 텍스트

#### 데이터 관련 용어

- **지표**: 경제 관련 측정 데이터(예: GDP, 물가지수 등)
- **시리즈**: 차트 내 표시되는 데이터 집합
- **주기**: 데이터의 수집 주기(일간, 월간, 분기, 연간)
- **MVP 지표**: 무료 플랜에서 제공하는 핵심 20개 경제지표 (KOSIS 12개, ECOS 8개)
- **Pro 지표**: 유료 플랜에서 추가 제공하는 20개 경제지표 (전체 40개 지표)

#### 사용자 집단 정의

- **전문 투자자/경제 전문가**: 경제 데이터 분석 능력이 뛰어나고, 엑셀 등 도구 활용에 익숙한 1차 타겟 사용자
  - 증권사 리서치센터, 경제연구소, 대학 경제학과 교수진
  - 세부적인 차트 편집과 커스터마이징 기능 요구
- **일반 투자자/경제 관심층**: 경제 데이터에 관심은 있으나 전문성이 부족하고, UI 편의성을 중시하는 2차 타겟 사용자
  - 간편한 대시보드 설정 및 전문가 인사이트 구독 선호

#### 기술 용어

- **데이터 소스**: 경제지표 데이터 제공 출처 (KOSIS, ECOS, OECD)
- **데이터 변환**: 원본 데이터를 다른 형태로 가공 (원본값, 변화율, 누적값 등)
- **시리즈 식별자**: 옵션 패널 스타일 설정과 연결할 고유 식별자 (series-1, series-2, ...)
- **react-grid-layout**: 대시보드 편집 시 위젯 드래그 앤 드롭 및 크기 조절을 위한 핵심 라이브러리

## 2. 서비스 핵심 기능 요구사항

### 2.1 대시보드 관리 기능

#### 2.1.1 대시보드 목록 및 탐색

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| DL-001 | 대시보드 목록 조회 | 사용자의 대시보드 목록 표시 | - | - | 인증 필요 | 대시보드 카드 그리드 |
| DL-002 | 대시보드 필터링 | 제목, 생성일 등으로 필터링 | 텍스트 입력 | 빈 문자열 | - | 검색 필드 |
| DL-003 | 대시보드 정렬 | 생성일, 수정일, 이름순 정렬 | 선택 | 최근 수정순 | - | 드롭다운 |
| DL-004 | 대시보드 미리보기 | 대시보드 카드에 미리보기 표시 | - | - | - | 썸네일 이미지 |
| DL-005 | 새 대시보드 생성 | 새 대시보드 생성 버튼 | 클릭 | - | **Basic: 최대 3개, Pro: 무제한** | 버튼 |
| DL-006 | 구독 상태 표시 | 현재 구독 플랜 표시 | - | Basic | Basic/Pro 상태 | 배지 |
| DL-007 | 사용량 현황 | 플랜별 사용량 표시 | - | - | Basic: N/3개 대시보드 | 프로그레스 바 |

#### 2.1.2 대시보드 상세 보기

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| DV-001 | 기간 설정 | 대시보드 데이터 기간 설정 | 날짜 범위 | 최근 1년 | **Basic: 최근 3년, Pro: 전체 기간** | 날짜 선택기 |
| DV-002 | 새로고침 | 대시보드 데이터 새로고침 | 클릭 | - | - | 버튼 |
| DV-003 | 자동 새로고침 | 설정된 간격으로 자동 새로고침 | 선택 | 비활성화 | **Pro 플랜만 사용 가능** | 토글, 드롭다운 |
| DV-004 | 공유 | 대시보드 공유 기능 | 클릭 | - | - | 버튼, 모달 |
| DV-005 | 내보내기 | 대시보드 내보내기(PNG, PDF) | 선택 | - | **Pro 플랜: 고해상도, Basic: 워터마크 포함** | 드롭다운, 버튼 |
| DV-006 | 편집 모드 | 대시보드 편집 모드 전환 | 클릭 | - | 소유자만 가능 | 버튼 |
| DV-007 | 워터마크 표시 | Basic 플랜 워터마크 표시 | - | - | **Basic 플랜: "E-Torch로 제작됨" 하단 표시** | 텍스트 오버레이 |

#### 2.1.3 대시보드 편집

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| DE-001 | 대시보드 제목 설정 | 대시보드 제목 편집 | 텍스트 | "Untitled Dashboard" | 최대 100자 | 텍스트 필드 |
| DE-002 | 대시보드 설명 설정 | 대시보드 설명 편집 | 텍스트 | 빈 문자열 | 최대 500자 | 텍스트 영역 |
| DE-003 | 위젯 추가 | 차트, 텍스트 등 위젯 추가 | 클릭 | - | **Basic: 대시보드당 최대 6개, Pro: 무제한** | 드롭다운, 버튼 |
| DE-004 | 위젯 이동 | 드래그로 위젯 위치 이동 | 드래그 | - | 그리드 내 위치 | 드래그 핸들 |
| DE-005 | 위젯 크기 조정 | 위젯 크기 조정 | 드래그 | - | 최소 1x1, 최대 12x12 | 리사이즈 핸들 |
| DE-006 | 위젯 제거 | 위젯 삭제 | 클릭 | - | - | 삭제 버튼 |
| DE-007 | 레이아웃 저장 | 레이아웃 변경사항 저장 | 클릭 | - | - | 저장 버튼 |
| DE-008 | 자동 저장 | 편집 내용 자동 저장 | 자동 | 30초마다 | - | 상태 표시 |
| DE-009 | 되돌리기/다시하기 | 변경 내용 되돌리기/다시하기 | 클릭 | - | 최대 50단계 | 버튼 |
| DE-010 | 위젯 한도 알림 | 위젯 추가 제한 안내 | 모달 | - | **Basic 플랜 6개 도달 시 Pro 업그레이드 안내** | 모달, 배너 |

#### 2.1.4 대시보드 공유 및 탐색

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| DS-001 | 대시보드 공개 설정 | 대시보드 공개/비공개 설정 | 토글 | 비공개 | - | 스위치 |
| DS-002 | 공유 링크 생성 | 공유 가능한 링크 생성 | 클릭 | - | 공개 대시보드만 | 버튼, 텍스트 필드 |
| DS-003 | 소셜 공유 | 소셜 미디어 공유 기능 | 클릭 | - | 공개 대시보드만 | 버튼 그룹 |
| DS-004 | 대시보드 탐색 | 공개된 대시보드 탐색 | - | - | - | 카드 그리드 |
| DS-005 | 대시보드 검색 | 공개 대시보드 검색 | 텍스트 | 빈 문자열 | - | 검색 필드 |
| DS-006 | 카테고리 필터 | 카테고리별 대시보드 필터링 | 선택 | 전체 | 종합경기, 주식시장, 물가금리, GDP성장, 환율통화, 원자재 | 드롭다운, 태그 |
| DS-007 | 구독 | 전문가 대시보드 구독 | 클릭 | - | 인증 필요 | 버튼 |
| DS-008 | 미리보기 | 구독 전 대시보드 미리보기 | 클릭 | - | - | 버튼, 모달 |
| DS-009 | 대시보드 복사 | 타인 대시보드를 내 계정으로 복사 | 클릭 | - | **Pro 플랜만 사용 가능** | 버튼 |
| DS-010 | 임베드 코드 | 외부 사이트 삽입용 코드 생성 | 클릭 | - | **Pro 플랜만 사용 가능** | 코드 블록 |

### 2.2 위젯 관리 기능

#### 2.2.1 위젯 생성 및 관리

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| WM-001 | 위젯 유형 선택 | 생성할 위젯 유형 선택 | 선택 | TimeSeries | **차트형: TimeSeries, BarChart, ScatterChart, RadarChart, RadialBarChart / 텍스트형: Text-사용자정의, Text-데이터기반** | 드롭다운 |
| WM-002 | 위젯 제목 설정 | 위젯 제목 편집 | 텍스트 | "Untitled Widget" | 최대 100자 | 텍스트 필드 |
| WM-003 | 위젯 설명 설정 | 위젯 설명 편집 | 텍스트 | 빈 문자열 | 최대 200자 | 텍스트 영역 |
| WM-004 | 위젯 저장 | 위젯 설정 저장 | 클릭 | - | - | 버튼 |
| WM-005 | 위젯 삭제 | 위젯 삭제 | 클릭 | - | - | 버튼, 확인 대화상자 |
| WM-006 | 위젯 복제 | 기존 위젯 복제 | 클릭 | - | **복제 시 위젯 한도 확인** | 버튼 |
| WM-007 | 위젯 내보내기 | PNG, SVG, CSV 형식으로 내보내기 | 선택 | - | **Pro: 고해상도, Basic: 워터마크 포함** | 드롭다운, 버튼 |

#### 2.2.2 데이터 소스 관리

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| DM-001 | 데이터 출처 선택 | 데이터 제공 출처 선택 | 선택 | KOSIS | KOSIS, ECOS | 드롭다운 |
| DM-002 | 지표 검색 | 지표 코드/이름으로 검색 | 텍스트 | 빈 문자열 | **Basic: MVP 20개 지표, Pro: 전체 40개 지표** | 검색 필드, 자동완성 |
| DM-003 | 지표 선택 | 지표 코드 선택 | 선택 | - | **구독 플랜별 접근 권한 확인** | 드롭다운, 검색 결과 |
| DM-004 | 시리즈 이름 설정 | 차트에 표시될 시리즈 이름 | 텍스트 | 지표명 | 최대 30자 | 텍스트 필드 |
| DM-005 | 시리즈 색상 설정 | 차트에 표시될 시리즈 색상 | 색상 선택 | 자동 할당 | - | 색상 선택기 |
| DM-006 | 시리즈 추가 | 추가 데이터 시리즈 추가 | 클릭 | - | 최대 5개 시리즈 | 버튼 |
| DM-007 | 시리즈 제거 | 데이터 시리즈 제거 | 클릭 | - | - | 버튼 |
| DM-008 | 데이터 변환 | 데이터 변환 방식 선택 | 선택 | 원본값 | 원본값, 변화율(전기대비), 변화율(전년동기대비), 누적값 | 드롭다운 |
| DM-009 | 시간 범위 설정 | 조회 기간 설정 | 날짜 범위 | 최근 1년 | **Basic: 최근 3년, Pro: 전체 기간** | 날짜 선택기 |
| DM-010 | 조회 주기 선택 | 데이터 주기 설정 | 선택 | 월간(M) | **KOSIS: M,Q,A만 지원 / ECOS: D,M,Q,A 지원** | 드롭다운 |
| DM-011 | 지표 접근 제한 안내 | Pro 전용 지표 선택 시 안내 | 모달 | - | **Basic 사용자가 Pro 지표 선택 시 업그레이드 안내** | 모달, 배너 |

### 2.3 사용자 관리 기능

#### 2.3.1 인증 및 프로필

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| UP-001 | SNS 로그인 | **Google, Naver, Kakao 계정으로 로그인** | 클릭 | - | **Supabase Auth 기반 인증** | 버튼 그룹 |
| UP-002 | 로그아웃 | 서비스 로그아웃 | 클릭 | - | - | 버튼 |
| UP-003 | 프로필 설정 | 사용자 프로필 정보 설정 | 텍스트/선택 | - | - | 폼 |
| UP-004 | 프로필 이미지 | 프로필 이미지 설정 | 파일 업로드 | 기본 이미지 | 최대 2MB, JPG/PNG | 이미지 업로더 |
| UP-005 | 계정 연결 관리 | **Google, Naver, Kakao 계정 연결/해제** | 클릭 | - | - | 버튼, 토글 |
| UP-006 | 계정 삭제 | 사용자 계정 삭제 | 클릭 | - | 확인 필요 | 버튼, 확인 대화상자 |

#### 2.3.2 구독 관리

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| SM-001 | 구독 정보 조회 | 현재 구독 상태 조회 | - | Basic | **Basic(무료)/Pro(유료) 상태 표시** | 정보 카드 |
| SM-002 | 구독 플랜 선택 | 구독 플랜 선택 | 선택 | Basic | **Basic(무료)/Pro 월간(9,900원)/Pro 연간(99,000원)** | 카드 그리드 |
| SM-003 | 결제 | **토스페이먼츠 기반 구독 결제** | 클릭 | - | **카드결제, 계좌이체, 간편결제(카카오페이, 네이버페이, 토스페이)** | 버튼, 결제 폼 |
| SM-004 | 구독 취소 | 구독 취소 | 클릭 | - | **빌링키 해지, 확인 필요** | 버튼, 확인 대화상자 |
| SM-005 | 결제 내역 | 과거 결제 내역 조회 | - | - | - | 테이블 |
| SM-006 | 결제 방법 관리 | **빌링키 기반 결제 수단 관리** | 클릭 | - | **카드 등록/변경/삭제** | 폼, 버튼 |
| SM-007 | 무료 체험 | **Pro 플랜 7일 무료 체험** | 클릭 | - | **신규 사용자만 가능** | 버튼, 배너 |
| SM-008 | 사용량 통계 | 플랜별 사용량 현황 | - | - | **대시보드 수, 위젯 수, 지표 조회 통계** | 차트, 표 |
| SM-009 | 플랜 혜택 비교 | Basic vs Pro 기능 비교 | - | - | **상세 기능 비교표** | 비교 테이블 |

#### 2.3.3 알림 설정

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| NS-001 | 이메일 알림 | 이메일 알림 설정 | 토글 | 활성화 | - | 스위치 |
| NS-002 | 알림 유형 설정 | 알림 유형별 설정 | 토글 그룹 | 전체 활성화 | **구독 갱신, 결제 성공/실패, 지표 업데이트, 플랜 제한 도달** | 스위치 그룹 |
| NS-003 | 알림 주기 | 알림 주기 설정 | 선택 | 즉시 | 즉시, 일간, 주간 | 드롭다운 |
| NS-004 | 알림 목록 | 받은 알림 목록 조회 | - | - | - | 목록 |
| NS-005 | 알림 읽음 표시 | 알림 읽음 상태 변경 | 클릭 | - | - | 버튼 |
| NS-006 | 알림 전체 삭제 | 모든 알림 삭제 | 클릭 | - | 확인 필요 | 버튼, 확인 대화상자 |
| NS-007 | 구독 갱신 알림 | **구독 갱신 예정 알림 (7일 전)** | 자동 | 활성화 | **Pro 구독자만 해당** | 이메일, 인앱 알림 |
| NS-008 | 플랜 제한 알림 | **무료 플랜 제한 도달 알림** | 자동 | 활성화 | **Basic 사용자만 해당** | 배너, 모달 |

## 3. 위젯 컴포넌트 상세 기능 명세

### 3.1 공통 옵션 컴포넌트

#### 3.1.1 Panel Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| PO-001 | Title | 컴포넌트 상단에 표시되는 제목 | 텍스트 | 빈 문자열 | 최대 100자 | 모든 컴포넌트 |
| PO-002 | Description | 제목 아래에 작은 글자로 표시되는 설명 텍스트 | 텍스트 | 빈 문자열 | 최대 200자 | 모든 컴포넌트 |
| PO-003 | 백그라운드 투명 여부 | 패널 배경의 투명도 설정 | 불리언 | false | true/false | 모든 컴포넌트 |

#### 3.1.2 Tooltip Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| TO-001 | Tooltip Mode | 툴팁 표시 방식 | 선택 | default | default, active, hidden | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |
| TO-002 | Max Width | 툴팁의 최대 너비 | 숫자 | 160 | 60-500px | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |
| TO-003 | Cursor Style | 커서 스타일 설정 | 선택 | solid | solid, dash | Time Series, Bar Chart, Scatter Chart |
| TO-004 | Dash Pattern | dash 선택 시 대시 패턴 | 문자열 | "2,2" | 형식: "숫자,숫자" | Time Series |
| TO-005 | Cursor Width | 커서의 두께 | 숫자 | 2 | 1-10px | Time Series |

#### 3.1.3 Legend Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| LG-001 | Visibility | 범례 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |
| LG-002 | Layout | 범례 레이아웃 방향 | 선택 | horizontal | horizontal, vertical | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |
| LG-003 | Horizontal Align | 수평 정렬 방식 | 선택 | left | left, center, right | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |
| LG-004 | Vertical Align | 수직 정렬 방식 | 선택 | bottom | top, middle, bottom | Time Series, Bar Chart, Scatter Chart, Radar Chart, Radial Bar Chart |

#### 3.1.4 X-Axis Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| XA-001 | Visibility | X축 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| XA-002 | Data Key | X축에 표시할 데이터 필드 | 텍스트 | "date" | 데이터 소스의 필드명 | Time Series, Bar Chart, Scatter Chart |
| XA-003 | Type | X축 데이터 유형 | 선택 | category | category, number | Time Series, Bar Chart, Scatter Chart |
| XA-004 | Min Value | number 타입일 때 최소값 | 숫자 | 0 | 숫자 또는 'auto' | Time Series, Scatter Chart |
| XA-005 | Max Value | number 타입일 때 최대값 | 텍스트 | "auto" | 숫자 또는 'auto' | Time Series, Scatter Chart |
| XA-006 | Show Axis | 축 선 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| XA-007 | Tick Count | 눈금 개수 | 숫자 | 5 | 2-20 | Time Series, Bar Chart, Scatter Chart |
| XA-008 | Tick Angle | 눈금 레이블 회전 각도 | 숫자 | 0 | -90 ~ 90 | Time Series, Bar Chart, Scatter Chart |
| XA-009 | Show Tick | 눈금 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| XA-010 | Tick Size | 눈금 크기 | 숫자 | 6 | 0-20px | Time Series, Bar Chart, Scatter Chart |

#### 3.1.5 Y-Axis Options (Primary)

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| YA-001 | Visibility | Y축 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| YA-002 | Unit | 축 레이블에 표시할 단위 텍스트 | 텍스트 | 빈 문자열 | 최대 10자 | Time Series, Bar Chart, Scatter Chart |
| YA-003 | Type | Y축 데이터 유형 | 선택 | number | category, number | Time Series, Bar Chart, Scatter Chart |
| YA-004 | Min Value | number 타입일 때 최소값 | 숫자 | 0 | 숫자 또는 'auto' | Time Series, Bar Chart, Scatter Chart |
| YA-005 | Max Value | number 타입일 때 최대값 | 텍스트 | "auto" | 숫자 또는 'auto' | Time Series, Bar Chart, Scatter Chart |
| YA-006 | Show Axis | 축 선 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| YA-007 | Tick Count | 눈금 개수 | 숫자 | 5 | 2-20 | Time Series, Bar Chart, Scatter Chart |
| YA-008 | Tick Angle | 눈금 레이블 회전 각도 | 숫자 | 0 | -90 ~ 90 | Time Series, Scatter Chart |
| YA-009 | Show Tick | 눈금 표시 여부 | 불리언 | true | true/false | Time Series, Bar Chart, Scatter Chart |
| YA-010 | Tick Size | 눈금 크기 | 숫자 | 6 | 0-20px | Time Series, Bar Chart, Scatter Chart |
| YA-011 | Label Position | 축 레이블 위치 | 선택 | insideLeft | insideLeft, insideTopLeft, insideBottomLeft | Time Series, Bar Chart, Scatter Chart |

#### 3.1.6 Y-Axis Options (Secondary)

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| YAS-001 | Visibility | 보조 Y축 표시 여부 | 불리언 | false | true/false | Time Series |
| YAS-002 | Unit | 축 레이블에 표시할 단위 텍스트 | 텍스트 | 빈 문자열 | 최대 10자 | Time Series |
| YAS-003 | Type | 보조 Y축 데이터 유형 | 선택 | number | category, number | Time Series |
| YAS-004 | Min Value | number 타입일 때 최소값 | 숫자 | 0 | 숫자 또는 'auto' | Time Series |
| YAS-005 | Max Value | number 타입일 때 최대값 | 텍스트 | "auto" | 숫자 또는 'auto' | Time Series |
| YAS-006 | Show Axis | 축 선 표시 여부 | 불리언 | true | true/false | Time Series |
| YAS-007 | Tick Count | 눈금 개수 | 숫자 | 5 | 2-20 | Time Series |
| YAS-008 | Tick Angle | 눈금 레이블 회전 각도 | 숫자 | 0 | -90 ~ 90 | Time Series |
| YAS-009 | Show Tick | 눈금 표시 여부 | 불리언 | true | true/false | Time Series |
| YAS-010 | Tick Size | 눈금 크기 | 숫자 | 6 | 0-20px | Time Series |
| YAS-011 | Label Position | 축 레이블 위치 | 선택 | insideRight | insideRight, insideTopRight, insideBottomRight | Time Series |

### 3.2 위젯별 전용 옵션 컴포넌트

#### 3.2.1 Graph Styles (Time Series)

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| GS-001 | Series Style Mapping | 시리즈별 그래프 스타일 매핑 | 매핑 테이블 | series-1: Line | 시리즈별 Line, Area, Bar | Time Series |
| GS-002 | Global Line Width | 전체 선 두께 기본값 | 숫자 | 1 | 0.5-10px | Time Series |
| GS-003 | Global Fill Opacity | 전체 채우기 투명도 기본값 | 숫자 | 35 | 0-100% | Time Series |
| GS-004 | Series Override | 시리즈별 스타일 개별 설정 | 시리즈 선택기 | - | 추가된 시리즈만 | Time Series |

#### 3.2.2 Bar Styles (BarChart)

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| BS-001 | Series Style Mapping | 시리즈별 바 스타일 매핑 | 매핑 테이블 | series-1: Bar | 시리즈별 Bar 스타일 | BarChart |
| BS-002 | Global Bar Width | 전체 바 너비 기본값 | 숫자 | 20 | 5-100px | BarChart |
| BS-003 | Series Override | 시리즈별 스타일 개별 설정 | 시리즈 선택기 | - | 추가된 시리즈만 | BarChart |

#### 3.2.3 Scatter Chart Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| SC-001 | Point Size | 데이터 포인트 크기 | 숫자 | 5 | 1-20px | Scatter Chart |
| SC-002 | Point Shape | 데이터 포인트 모양 | 선택 | circle | circle, cross, diamond, square, star | Scatter Chart |
| SC-003 | Point Fill | 포인트 내부 채우기 여부 | 불리언 | true | true/false | Scatter Chart |
| SC-004 | Show Regression Line | 회귀선 표시 여부 | 불리언 | false | true/false | Scatter Chart |
| SC-005 | Regression Type | 회귀선 유형 | 선택 | linear | linear, polynomial, exponential | Scatter Chart |
| SC-006 | XY Label | XY 좌표 레이블 표시 | 불리언 | false | true/false | Scatter Chart |

#### 3.2.4 Radar Chart Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| RC-001 | Grid Shape | 그리드 모양 | 선택 | polygon | polygon, circle | Radar Chart |
| RC-002 | Axis Lines | 축 선 표시 여부 | 불리언 | true | true/false | Radar Chart |
| RC-003 | Fill Area | 영역 채우기 | 불리언 | true | true/false | Radar Chart |
| RC-004 | Fill Opacity | 영역 투명도 | 숫자 | 50 | 0-100% | Radar Chart |
| RC-005 | Show Data Points | 데이터 포인트 표시 | 불리언 | true | true/false | Radar Chart |
| RC-006 | Normalize Data | 데이터 정규화 | 불리언 | true | true/false | Radar Chart |

#### 3.2.5 Radial Bar Chart Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| RB-001 | Start Angle | 시작 각도 | 숫자 | 0 | 0-360° | Radial Bar Chart |
| RB-002 | End Angle | 종료 각도 | 숫자 | 360 | 0-360° | Radial Bar Chart |
| RB-003 | Bar Size | 바 크기 | 숫자 | 10 | 1-50px | Radial Bar Chart |
| RB-004 | Inner Radius | 내부 반지름 비율 | 숫자 | 30 | 0-100% | Radial Bar Chart |
| RB-005 | Outer Radius | 외부 반지름 비율 | 숫자 | 100 | 0-100% | Radial Bar Chart |
| RB-006 | Corner Radius | 모서리 라운드 처리 | 숫자 | 0 | 0-10px | Radial Bar Chart |
| RB-007 | Show Background | 배경 표시 여부 | 불리언 | true | true/false | Radial Bar Chart |
| RB-008 | Background Color | 배경 색상 | 색상 선택기 | "#f5f5f5" | 유효한 색상 코드 | Radial Bar Chart |
| RB-009 | Use Gradient | 그라데이션 사용 여부 | 불리언 | false | true/false | Radial Bar Chart |
| RB-010 | Gradient Colors | 그라데이션 색상 범위 | 색상 배열 | ["#8884d8", "#82ca9d"] | 유효한 색상 코드 | Radial Bar Chart |

#### 3.2.6 Text Widget Options

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|----------------|
| TX-001 | Custom Content | 표시할 텍스트 내용 (사용자 정의 모드) | 텍스트 에디터 | 빈 문자열 | 최대 10000자 | Text-사용자정의 |
| TX-002 | Data Source | 데이터 소스 설정 (데이터 기반 모드) | 데이터 소스 선택 | - | 유효한 데이터 소스 | Text-데이터기반 |
| TX-003 | Data Operation | 데이터 처리 방식 | 선택 | 최신값 | 최신값, 최소값, 최대값, 평균, 합계, 개수 | Text-데이터기반 |
| TX-004 | Format | 숫자 포맷 | 텍스트 | "0,0.00" | 유효한 형식 문자열 | Text-데이터기반 |
| TX-005 | Prefix | 값 앞에 표시할 텍스트 | 텍스트 | 빈 문자열 | 최대 20자 | Text-데이터기반 |
| TX-006 | Suffix | 값 뒤에 표시할 텍스트 | 텍스트 | 빈 문자열 | 최대 20자 | Text-데이터기반 |
| TX-007 | Mode | 텍스트 편집 모드 | 선택 | markdown | markdown, html | Text-사용자정의 |
| TX-008 | Font Size | 기본 폰트 크기 | 숫자 | 14 | 8-72px | Text 공통 |
| TX-009 | Text Align | 텍스트 정렬 | 선택 | left | left, center, right, justify | Text 공통 |
| TX-010 | Text Color | 텍스트 색상 | 색상 선택기 | "#000000" | 유효한 색상 코드 | Text 공통 |

### 3.3 데이터 소스 설정

#### 3.3.1 데이터 소스 적용 위젯

- **다중 시리즈 지원**: TimeSeries, BarChart, ScatterChart, RadarChart, RadialBarChart
- **단일 데이터 소스**: Text-데이터기반 (시리즈 식별자 불필요)
- **데이터 소스 미적용**: Text-사용자정의 (데이터 소스 불필요)

#### 3.3.2 전체 위젯 공통 설정

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| CS-001 | 조회 기간 설정 | 차트에 표시할 데이터의 기간 범위 | 날짜 범위 | 최근 1년 | **Basic: 최근 3년, Pro: 전체 기간** | 모든 차트 컴포넌트 |
| CS-002 | 조회 주기 선택 | 데이터 주기 | 선택 | 월간(M) | **KOSIS: M,Q,A / ECOS: D,M,Q,A / OECD: TBD** | 모든 차트 컴포넌트 |

#### 3.3.3 지표별 데이터 소스 설정

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| DS-001 | 데이터 출처 | 데이터 제공 출처 | 선택 | KOSIS | **KOSIS, ECOS (현재 지원) / OECD (향후 확장)** | 모든 차트 컴포넌트 |
| DS-002 | 지표 코드 | 조회할 지표 코드 | 텍스트 | 빈 문자열 | **Basic: MVP 20개 지표, Pro: 전체 40개 지표** | 모든 차트 컴포넌트 |
| DS-003 | 지표 검색 | 지표명/코드로 검색 | 검색 입력 | 빈 문자열 | **구독 플랜별 검색 결과 필터링** | 모든 차트 컴포넌트 |
| DS-004 | 시리즈 이름 | 차트에 표시될 시리즈 이름 | 텍스트 | 지표명 | 최대 30자 | 모든 차트 컴포넌트 |
| DS-005 | 시리즈 색상 | 차트에 표시될 시리즈 색상 | 색상 선택기 | 자동 할당 | 유효한 색상 코드 | 모든 차트 컴포넌트 |
| DS-006 | Y축 선택 | 시리즈가 표시될 Y축 (주/보조) | 선택 | Primary | Primary, Secondary | Time Series, BarChart, ScatterChart |
| DS-007 | 시리즈 식별자 | 옵션 패널 스타일 설정과 연결할 시리즈 식별자 | 자동생성 | series-1 | series-1, series-2, ... | 차트형 위젯 (TimeSeries, BarChart, ScatterChart, RadarChart, RadialBarChart) |
| DS-008 | 데이터 변환 | 원본 데이터 변환 방식 | 선택 | 원본값 | 원본값, 변화율(전기대비), 변화율(전년동기대비), 누적값 | 모든 차트 컴포넌트 |
| DS-009 | 시리즈 제거 | 현재 시리즈 제거 | 버튼 | - | - | 모든 차트 컴포넌트 |
| DS-010 | 데이터 시차 | 시계열 데이터 시차 적용 | 숫자 | 0 | -12 ~ 12 (개월/분기/년) | Scatter Chart, Time Series |

#### 3.3.4 시리즈 추가 기능

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| AS-001 | 시리즈 추가 | 새로운 데이터 시리즈 추가 | 버튼 | - | 최대 5개 시리즈 | 모든 차트 컴포넌트 |

#### 3.3.5 기간별 비교 설정 (Pro 플랜 전용)

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | 적용 가능 위젯 |
|---------|--------|------|-----------|--------|----------|-------------------|
| CP-001 | 비교 활성화 | 기간 비교 기능 활성화 | 불리언 | false | **Pro 플랜만 사용 가능** | Time Series, Bar Chart |
| CP-002 | 비교 기간 유형 | 비교할 기간 유형 | 선택 | 전년동기 | 전년동기, 이전기간, 사용자정의 | Time Series, Bar Chart |
| CP-003 | 사용자 정의 기간 | 사용자 정의 비교 기간 | 날짜 범위 | - | 유효한 날짜 범위 | Time Series, Bar Chart |
| CP-004 | 비교 시각화 방식 | 비교 결과 표시 방법 | 선택 | 중첩 | 중첩, 나란히, 차이값 | Time Series, Bar Chart |
| CP-005 | 기준기간 스타일 | 기준기간 시각화 스타일 | 복합 | { color: "#1f77b4", lineStyle: "solid" } | 색상, 선 스타일 등 | Time Series |
| CP-006 | 비교기간 스타일 | 비교기간 시각화 스타일 | 복합 | { color: "#ff7f0e", lineStyle: "dashed" } | 색상, 선 스타일 등 | Time Series |

### 3.4 위젯 유형별 활성화 옵션 영역

#### 3.4.1 TimeSeries

- **활성화 옵션 영역**:
  - Panel Options
  - Tooltip Options  
  - Legend Options
  - X-Axis Options
  - Y-Axis Options (Primary)
  - Y-Axis Options (Secondary)
  - Graph Styles (Time Series) - 시리즈별 스타일 매핑 및 전역 설정
  - 데이터 소스 설정
  - 기간별 비교 설정 (Pro 전용)

#### 3.4.2 BarChart

- **활성화 옵션 영역**:
  - Panel Options
  - Tooltip Options
  - Legend Options
  - X-Axis Options
  - Y-Axis Options (Primary)
  - Bar Styles (BarChart) - 시리즈별 스타일 매핑
  - 데이터 소스 설정
  - 기간별 비교 설정 (Pro 전용)

#### 3.4.3 ScatterChart

- **활성화 옵션 영역**:
  - Panel Options
  - Tooltip Options
  - Legend Options
  - X-Axis Options
  - Y-Axis Options (Primary)
  - Scatter Chart Options
  - 데이터 소스 설정

#### 3.4.4 RadarChart

- **활성화 옵션 영역**:
  - Panel Options
  - Tooltip Options
  - Legend Options
  - Radar Chart Options
  - 데이터 소스 설정

#### 3.4.5 RadialBarChart

- **활성화 옵션 영역**:
  - Panel Options
  - Tooltip Options
  - Legend Options
  - Radial Bar Chart Options
  - 데이터 소스 설정

#### 3.4.6 Text (사용자 정의)

- **활성화 옵션 영역**:
  - Panel Options
  - Text Widget Options (사용자 정의 모드)

#### 3.4.7 Text (데이터 기반)

- **활성화 옵션 영역**:
  - Panel Options
  - Text Widget Options (데이터 기반 모드)
  - 데이터 소스 설정

### 3.5 옵션 관계 및 의존성 규칙

#### 3.5.1 위젯 유형에 따른 옵션 활성화 규칙

| 위젯 유형 | 규칙 ID | 규칙 설명 |
|--------------|---------|----------|
| 전체 | R-001 | Panel Options는 모든 컴포넌트에서 항상 활성화됨 |
| Time Series | R-TS-001 | Y-Axis (Secondary) 옵션은 YAS-001 (Visibility)가 true일 때만 나머지 필드가 활성화됨 |
| Time Series | R-TS-002 | 시리즈별 스타일이 'Line'일 때만 해당 시리즈의 Line 관련 옵션 활성화 |
| Time Series | R-TS-003 | 시리즈별 스타일이 'Area'일 때만 해당 시리즈의 Area 관련 옵션 활성화 |
| Time Series | R-TS-004 | 시리즈의 Y축 선택(DS-006)이 'Secondary'일 때는 해당 시리즈만 Secondary Y축에 표시됨 |
| Time Series | R-TS-005 | 데이터 시리즈의 개별 스타일(DS-007)은 해당 시리즈에만 적용됨 |
| BarChart | R-BC-001 | 시리즈별 바 스타일 매핑(BS-001)에 따라 개별 시리즈 스타일 적용 |

#### 3.5.2 데이터 소스 의존성 규칙

| 규칙 ID | 규칙 설명 |
|---------|----------|
| R-DS-001 | 지표 코드(DS-002)는 선택된 데이터 출처(DS-001)에 따라 유효한 코드만 선택 가능 |
| R-DS-002 | 주기 선택(CS-002)은 선택된 모든 지표 코드가 지원하는 주기만 활성화 |
| R-DS-003 | **KOSIS: M,Q,A만 지원 / ECOS: D,M,Q,A 지원 / OECD: 향후 확장 시 정의** |
| R-DS-004 | 일간(D) 데이터는 최대 1년 기간만 조회 가능, 다른 주기는 더 긴 기간 지원 |
| R-DS-005 | 조회 주기(CS-002)와 기간(CS-001)은 차트의 모든 시리즈에 공통 적용됨 |
| R-DS-006 | 시리즈 추가 시 상단의 공통 설정(조회 기간, 조회 주기)은 모든 시리즈에 동일하게 적용됨 |

#### 3.5.3 구독 플랜 의존성 규칙

| 규칙 ID | 규칙 설명 |
|---------|----------|
| R-SUB-001 | **Basic 플랜: MVP 20개 지표만 접근 가능, 최근 3년 데이터만 조회** |
| R-SUB-002 | **Pro 플랜: 전체 40개 지표 접근 가능, 전체 기간 데이터 조회** |
| R-SUB-003 | **기간별 비교 기능(CP-001~006)은 Pro 플랜만 사용 가능** |
| R-SUB-004 | **OECD 데이터 소스는 현재 개발 중으로 모든 플랜에서 비활성화** |
| R-SUB-005 | **지표 검색(DS-003) 시 구독 플랜에 따라 검색 결과 필터링** |

#### 3.5.4 스타일-데이터 연결 의존성 규칙

| 규칙 ID | 규칙 설명 |
|---------|----------|
| R-ST-001 | 데이터 소스의 시리즈 식별자(DS-007)는 옵션 패널의 스타일 설정과 1:1 매핑됨 |
| R-ST-002 | 시리즈 추가/삭제 시 옵션 패널의 스타일 매핑도 자동 동기화됨 |
| R-ST-003 | TimeSeries에서 시리즈별 그래프 스타일(GS-001)은 해당 시리즈 식별자와 연결됨 |
| R-ST-004 | Text-데이터기반 위젯은 단일 데이터 소스만 사용하므로 시리즈 식별자 불필요 |

### 3.6 기술적 구현 고려사항

#### 3.6.1 Recharts 라이브러리 기반 구현

- **차트 컴포넌트 매핑**:
  - TimeSeries → LineChart, AreaChart, BarChart (혼합 가능)
  - BarChart → BarChart
  - ScatterChart → ScatterChart
  - RadarChart → RadarChart
  - RadialBarChart → RadialBarChart

- **옵션 호환성**: 모든 차트 옵션은 Recharts 2.15.3+ 버전에서 지원되는 속성 기반

- **성능 최적화**:
  - 옵션 변경 시 차트 재렌더링 최소화
  - React.memo 기반 불필요한 리렌더링 방지
  - 대용량 데이터 처리 시 가상화 적용

#### 3.6.2 구독 플랜 연동

- **런타임 권한 검증**:
  - 지표 선택 시 실시간 플랜 검증
  - 기간 설정 시 플랜별 제한 적용
  - Pro 전용 기능 접근 시 업그레이드 안내

- **UI 상태 관리**:
  - 플랜별 비활성화 상태 시각적 표시
  - 제한 도달 시 명확한 안내 메시지
  - 업그레이드 유도 UX 통합

#### 3.6.3 확장성 고려

- **OECD 데이터 소스**:
  - UI 구조상 준비되어 있으나 현재 비활성화
  - 향후 활성화 시 기존 코드 수정 최소화
  - 주기 정보 등은 추후 정의

- **새로운 차트 유형**:
  - 옵션 컴포넌트 구조 재사용 가능
  - 위젯 유형별 활성화 규칙 확장 용이
  - 데이터 소스 설정 구조 공통화

## 4. UI/UX 공통 요구사항

### 4.1 디자인 시스템 및 브랜딩

#### 4.1.1 브랜드 색상 체계

| 기능 ID | 기능명 | 설명 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| DS-001 | Primary 색상 | 주요 액션 버튼, 로고, 네비게이션 | #0c1e3e | OKLCH 색상 공간 기준 | 버튼, 링크, 아이콘 |
| DS-002 | Secondary 색상 | 보조 액션, 링크, 강조 요소 | #1a56db | OKLCH 색상 공간 기준 | 보조 버튼, 강조 텍스트 |
| DS-003 | Tertiary 색상 | 차트 기본 색상, 데이터 시각화 | #0284c7 | 차트 기본 팔레트 | 차트, 그래프 |
| DS-004 | 시스템 색상 | Success, Warning, Error 상태 색상 | 표준 색상 | 접근성 대비 4.5:1 준수 | 알림, 상태 표시 |
| DS-005 | Gray Scale | 텍스트, 배경, 테두리 (50-950 단계) | Tailwind 기본 | 9단계 Gray Scale | 텍스트, 배경, 테두리 |

#### 4.1.2 OKLCH 색상 시스템

| 기능 ID | 기능명 | 설명 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| CS-001 | OKLCH 색상 공간 | 더 정확하고 일관된 색상 표현 | OKLCH 우선 | HSL 폴백 제공 | 모든 색상 요소 |
| CS-002 | 다크/라이트 모드 | 사용자 선호도 및 시스템 설정 연동 | 시스템 설정 | prefers-color-scheme 반영 | 전체 테마 |
| CS-003 | 색상 대비 보장 | WCAG AA 수준 색상 대비 자동 보장 | 4.5:1 | 일반 텍스트 4.5:1, 큰 텍스트 3:1 | 텍스트, 배경 |
| CS-004 | 브라우저 호환성 | OKLCH 미지원 브라우저 HSL 폴백 | 자동 감지 | @supports 쿼리 활용 | CSS 변수 |

#### 4.1.3 타이포그래피 시스템

| 기능 ID | 기능명 | 설명 | 크기 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| TS-001 | 기본 폰트 | Inter 웹폰트 | - | Google Fonts 로드 | 전체 텍스트 |
| TS-002 | Display | 대제목, 랜딩페이지 | 48px | 모바일에서 36px | 랜딩 제목 |
| TS-003 | H1 | 페이지 제목 | 36px | 모바일에서 28px | 페이지 헤더 |
| TS-004 | H2 | 섹션 제목 | 30px | 모바일에서 24px | 섹션 헤더 |
| TS-005 | H3 | 카드 제목, 위젯 제목 | 24px | 모바일에서 20px | 카드, 위젯 |
| TS-006 | Body | 본문, 설명 | 16px | 기본 텍스트 | 본문 텍스트 |
| TS-007 | Caption | 보조 텍스트, 메타 정보 | 14px | 회색 계열 색상 | 보조 정보 |
| TS-008 | 모노스페이스 | 수치 데이터, 코드 | JetBrains Mono | 숫자 정렬 최적화 | 데이터 표시 |

#### 4.1.4 Shadcn/UI 통합

| 기능 ID | 기능명 | 설명 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| SU-001 | 기본 컴포넌트 커스터마이징 | E-Torch 디자인에 맞는 Shadcn/UI 커스터마이징 | 기본 테마 | 브랜드 색상 적용 | 모든 UI 컴포넌트 |
| SU-002 | 테마 변수 관리 | CSS 변수 기반 브랜드 색상 및 타이포그래피 | CSS 변수 | :root 레벨 정의 | 테마 시스템 |
| SU-003 | Tailwind CSS 4 연동 | CSS-first 방식 @theme 디렉티브 활용 | - | CSS 파일에서 직접 설정 | 전체 스타일링 |
| SU-004 | 컴포넌트 확장 | 서비스 전용 컴포넌트 생성 | 기본 컴포넌트 상속 | Shadcn/UI 패턴 준수 | 커스텀 컴포넌트 |

### 4.2 구독 플랜별 UI 요소

#### 4.2.1 Basic 플랜 제한 표시

| 기능 ID | 기능명 | 설명 | 표시 위치 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|----------|------------|
| SP-001 | 워터마크 표시 | "E-Torch로 제작됨" 하단 표시 | 대시보드 하단 | Basic 플랜만 표시 | 텍스트 오버레이 |
| SP-002 | 기능 제한 알림 | 한도 도달 시 제한 안내 | 모달, 배너 | 3개 대시보드, 6개 위젯 한도 | 모달, 인라인 알림 |
| SP-003 | 지표 접근 제한 | Pro 전용 지표 선택 시 안내 | 지표 선택 UI | MVP 20개 지표만 접근 | 툴팁, 비활성화 |
| SP-004 | 기간 제한 표시 | 최근 3년 데이터만 조회 가능 안내 | 날짜 선택기 | 3년 이전 비활성화 | 날짜 선택기 제한 |
| SP-005 | 업그레이드 유도 배너 | Pro 기능 활용 안내 | 상단 배너 | 제한 도달 시만 표시 | 배너, CTA 버튼 |

#### 4.2.2 Pro 플랜 혜택 표시

| 기능 ID | 기능명 | 설명 | 표시 위치 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|----------|------------|
| SP-006 | Pro 배지 표시 | 현재 Pro 구독 상태 표시 | 헤더, 사이드바 | Pro 구독자만 | 배지 |
| SP-007 | 고급 기능 강조 | Pro 전용 기능 시각적 구분 | 기능별 UI | 색상, 아이콘으로 구분 | 아이콘, 색상 강조 |
| SP-008 | 워터마크 제거 | 워터마크 없는 깔끔한 UI | 전체 대시보드 | Pro 구독자만 | - |
| SP-009 | 무제한 표시 | 대시보드/위젯 무제한 생성 상태 | 생성 UI | ∞ 기호 또는 "무제한" 텍스트 | 상태 표시 |
| SP-010 | 고급 내보내기 | 고해상도, 워터마크 없는 내보내기 | 내보내기 메뉴 | 추가 옵션 표시 | 드롭다운 옵션 |

#### 4.2.3 플랜 비교 및 전환 UI

| 기능 ID | 기능명 | 설명 | 표시 위치 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|----------|------------|
| SP-011 | 플랜 비교 모달 | Basic vs Pro 기능 상세 비교 | 업그레이드 버튼 클릭 시 | 기능별 상세 비교표 | 모달, 비교 테이블 |
| SP-012 | 사용량 현황 | 현재 사용량 및 제한 표시 | 설정 페이지 | 시각적 사용률 표시 | 프로그레스 바, 차트 |
| SP-013 | 무료 체험 안내 | 7일 무료 체험 배너 | 제한 도달 시 | 신규 사용자만 | 배너, CTA |

### 4.3 레이아웃 및 네비게이션

#### 4.3.1 반응형 레이아웃 시스템

| 기능 ID | 기능명 | 설명 | 브레이크포인트 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|---------------|----------|------------|
| LN-001 | 반응형 브레이크포인트 | 디바이스별 최적화된 레이아웃 | 모바일 ~767px, 태블릿 768px-1199px, 데스크톱 1200px+ | Tailwind CSS 기준 | 컨테이너, 그리드 |
| LN-002 | 컨테이너 시스템 | 최대 너비 및 중앙 정렬 | 최대 1440px, 좌우 자동 여백 | - | 컨테이너 |
| LN-003 | 그리드 시스템 | 12컬럼 그리드 시스템 | react-grid-layout 연동 | 1x1 최소, 12x12 최대 | 그리드 레이아웃 |
| LN-004 | 간격 시스템 | 일관된 간격 체계 | 4px 기본 (8px, 12px, 16px, 24px, 32px, 48px) | Tailwind spacing 준수 | 여백, 패딩 |

#### 4.3.2 네비게이션 시스템

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| LN-005 | 사이드바 네비게이션 | 주요 메뉴 사이드바 | 클릭, 호버 | 확장 상태 | 축소/확장 가능 | 사이드바 |
| LN-006 | 헤더 네비게이션 | 상단 헤더 표시 | - | 고정 | 스크롤 시 고정 | 헤더 |
| LN-007 | 브레드크럼 | 현재 위치 표시 | - | 자동 생성 | 최대 4단계 | 브레드크럼 |
| LN-008 | 모바일 메뉴 | 모바일 환경 메뉴 | 터치, 클릭 | 숨김 | 햄버거 메뉴 | 드로어, Sheet |

#### 4.3.3 페이지 전환 및 상호작용

| 기능 ID | 기능명 | 설명 | 지속시간 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|----------|------------|
| LN-009 | 페이지 전환 | 페이지 간 전환 애니메이션 | 200ms | 부드러운 전환 | 전환 효과 |
| LN-010 | 스크롤 위치 유지 | 페이지 이동 후 스크롤 위치 복원 | - | Next.js 기본 지원 | - |
| LN-011 | 리사이즈 패널 | 사용자 조절 가능한 패널 크기 | 드래그 | shadcn/ui ResizablePanel | 리사이즈 핸들 |

### 4.4 접근성 강화 (WCAG 2.1 AA)

#### 4.4.1 키보드 네비게이션 지원

| 기능 ID | 기능명 | 설명 | 단축키 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| AC-001 | 전역 키보드 단축키 | 기본 네비게이션 단축키 | Tab, Shift+Tab, Enter, Space, Esc | 모든 인터랙티브 요소 | - |
| AC-002 | 바로가기 키 | 주요 영역 바로가기 | Alt+1 (메인), Alt+2 (사이드바) | 접근성 향상 | Skip Links |
| AC-003 | 편집 모드 단축키 | 대시보드 편집 전용 단축키 | Arrow Keys, Shift+Arrow, Delete, Ctrl+C/V/Z/Y | 편집 모드에서만 활성 | - |
| AC-004 | 포커스 표시 | 키보드 포커스 시각적 표시 | - | 2px 파란색 테두리 | 포커스 링 |
| AC-005 | 포커스 관리 | 모달 내 포커스 트랩 | - | 모달 내부 순환 | 포커스 트랩 |

#### 4.4.2 스크린 리더 호환성

| 기능 ID | 기능명 | 설명 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|------------|
| AC-006 | 차트 대체 텍스트 | 모든 차트에 데이터 요약 정보 제공 | 데이터 범위, 최고/최저값, 트렌드 포함 | alt 속성, aria-label |
| AC-007 | 데이터 테이블 제공 | 시각화 차트 대응 데이터 테이블 | 토글 버튼으로 표시/숨김 | 숨김 테이블 |
| AC-008 | 동적 콘텐츠 알림 | 실시간 업데이트 음성 안내 | 데이터 새로고침, 편집 상태 변경 시 | aria-live, role="status" |
| AC-009 | 의미적 HTML 구조 | 논리적 HTML 구조 | header, nav, main, aside, footer | 시맨틱 태그 |
| AC-010 | ARIA 라벨 완비 | 모든 UI 요소 ARIA 라벨 | aria-label, aria-describedby 등 | ARIA 속성 |

#### 4.4.3 시각적 접근성

| 기능 ID | 기능명 | 설명 | 기준값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| AC-011 | 색상 대비 기준 | WCAG AA 수준 색상 대비 | 일반 텍스트 4.5:1, 큰 텍스트 3:1 | 자동 검증 | 모든 텍스트 |
| AC-012 | 차트 색상 전략 | 색맹 친화적 색상 팔레트 | Viridis 기반 팔레트 | 색상 외 구별 요소 병행 | 차트, 그래프 |
| AC-013 | 상태 정보 다중 표현 | 색상 + 아이콘 + 텍스트 조합 | 성공(녹색+체크+텍스트) 등 | 색상만으로 구분 금지 | 상태 표시 |
| AC-014 | 고대비 모드 | OS 고대비 모드 대응 | - | prefers-contrast 반영 | 전체 UI |

#### 4.4.4 모바일 접근성

| 기능 ID | 기능명 | 설명 | 크기 기준 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|----------|------------|
| AC-015 | 터치 타겟 크기 | 최소 터치 타겟 크기 보장 | 최소 44×44px | 인접 요소 8px 간격 | 모든 터치 요소 |
| AC-016 | 터치 제스처 지원 | 접근 가능한 터치 인터랙션 | - | 대체 액세스 방법 제공 | 터치 UI |
| AC-017 | 확대/축소 지원 | 200% 확대 시 가로 스크롤 방지 | 200% 확대 | 반응형 레이아웃 | 전체 UI |
| AC-018 | 스크린 리더 모바일 | iOS VoiceOver, Android TalkBack | - | 모바일 스크린 리더 호환 | 모바일 UI |

### 4.5 테마 및 사용자 설정

#### 4.5.1 테마 시스템

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| TA-001 | 테마 모드 | 라이트/다크 모드 전환 | 토글 | 시스템 설정 | prefers-color-scheme 반영 | 토글 스위치 |
| TA-002 | 시스템 설정 연동 | OS 테마 설정 자동 감지 | 자동 | 시스템 추적 | matchMedia 활용 | - |
| TA-003 | 테마 전환 애니메이션 | 부드러운 테마 전환 효과 | - | 200ms | view-transition 활용 | CSS 전환 |

#### 4.5.2 사용자 개인화 설정

| 기능 ID | 기능명 | 설명 | 입력 유형 | 기본값 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|-----------|--------|----------|------------|
| TA-004 | 폰트 크기 설정 | 기본 폰트 크기 조절 | 라디오 버튼 | 중간 | 작게(14px), 중간(16px), 크게(18px) | 라디오 그룹 |
| TA-005 | 밀도 설정 | UI 요소 밀도 조절 | 선택 | 중간 | 조밀, 중간, 여유 | 드롭다운 |
| TA-006 | 애니메이션 설정 | 애니메이션 감소 옵션 | 토글 | 비활성화 | prefers-reduced-motion 반영 | 스위치 |
| TA-007 | 언어 설정 | 서비스 언어 설정 | 드롭다운 | 한국어 | 한국어, 영어 | 드롭다운 |

### 4.6 피드백 및 알림 시스템

#### 4.6.1 즉시 피드백

| 기능 ID | 기능명 | 설명 | 표시 시간 | 위치 | UI 컴포넌트 |
|---------|--------|------|----------|------|------------|
| FA-001 | 토스트 알림 | 작업 성공/실패 즉시 알림 | 3초 | 우측 하단 | Toast |
| FA-002 | 로딩 표시 | 데이터 로딩 중 상태 표시 | 작업 완료시까지 | 콘텐츠 영역 | Skeleton, Spinner |
| FA-003 | 진행 표시줄 | 장시간 작업 진행 상태 | 작업 완료시까지 | 상단 고정 | Progress Bar |
| FA-004 | 인라인 검증 | 실시간 입력 검증 피드백 | 즉시 | 입력 필드 하단 | 인라인 메시지 |

#### 4.6.2 사용자 확인 및 안내

| 기능 ID | 기능명 | 설명 | 표시 조건 | 위치 | UI 컴포넌트 |
|---------|--------|------|----------|------|------------|
| FA-005 | 확인 대화상자 | 중요 작업 실행 전 확인 | 삭제, 취소 등 | 중앙 모달 | AlertDialog |
| FA-006 | 오류 표시 | 상세한 오류 메시지 및 해결 방안 | 오류 발생 시 | 관련 UI 근처 | Alert, 인라인 메시지 |
| FA-007 | 도움말 팝오버 | 기능 설명 및 사용법 안내 | 호버, 클릭 시 | 관련 요소 근처 | Popover, Tooltip |
| FA-008 | 온보딩 가이드 | 신규 사용자 기능 안내 | 첫 방문 시 | 순차적 오버레이 | 가이드 투어 |

#### 4.6.3 상태 및 알림 관리

| 기능 ID | 기능명 | 설명 | 업데이트 주기 | 위치 | UI 컴포넌트 |
|---------|--------|------|--------------|------|------------|
| FA-009 | 알림 배지 | 새 알림 개수 표시 | 실시간 | 알림 아이콘 | Badge |
| FA-010 | 상태 표시 | 서비스/기능 상태 실시간 표시 | 실시간 | 헤더 또는 상태바 | 상태 인디케이터 |
| FA-011 | 오프라인 알림 | 네트워크 연결 상태 알림 | 연결 상태 변경 시 | 상단 배너 | 배너 알림 |
| FA-012 | 업데이트 알림 | 서비스 업데이트 안내 | 업데이트 시 | 상단 배너 | 배너, 모달 |

### 4.7 성능 및 사용성 최적화

#### 4.7.1 로딩 최적화

| 기능 ID | 기능명 | 설명 | 목표값 | 측정 기준 | UI 컴포넌트 |
|---------|--------|------|--------|----------|------------|
| PO-001 | 스켈레톤 UI | 콘텐츠 로딩 중 구조 미리보기 | 100ms 내 표시 | 사용자 인식 시간 | Skeleton |
| PO-002 | 점진적 로딩 | 중요 콘텐츠 우선 로딩 | Core Web Vitals 기준 | LCP < 2.5s | Suspense, 지연 로딩 |
| PO-003 | 캐시 전략 | 효율적인 데이터 캐싱 | 반복 요청 50% 감소 | 캐시 적중률 | SWR, 브라우저 캐시 |

#### 4.7.2 인터랙션 최적화

| 기능 ID | 기능명 | 설명 | 반응 시간 | 제약조건 | UI 컴포넌트 |
|---------|--------|------|----------|----------|------------|
| PO-004 | 즉시 반응 | 사용자 입력 즉시 시각적 피드백 | < 16ms | 60fps 유지 | 모든 인터랙티브 요소 |
| PO-005 | 최적화된 애니메이션 | 부드럽고 성능 최적화된 애니메이션 | 60fps | GPU 가속 활용 | CSS Transform |
| PO-006 | 디바운싱 | 빈번한 이벤트 최적화 | 300ms | 검색, 리사이즈 등 | 입력 최적화 |

### 4.8 개발 및 유지보수 고려사항

#### 4.8.1 컴포넌트 설계 원칙

| 원칙 ID | 원칙명 | 설명 | 적용 기준 |
|---------|--------|------|----------|
| DP-001 | 재사용성 | 공통 UI 패턴 컴포넌트화 | 3회 이상 사용 시 컴포넌트화 |
| DP-002 | 일관성 | 동일한 기능의 일관된 UI/UX | 디자인 시스템 기반 |
| DP-003 | 확장성 | 기능 추가 시 기존 구조 영향 최소화 | 컴포지션 패턴 활용 |
| DP-004 | 테스트 가능성 | 자동화된 테스트 작성 용이성 | data-testid 속성 필수 |

#### 4.8.2 품질 관리

| 기능 ID | 기능명 | 설명 | 기준값 | 측정 도구 |
|---------|--------|------|--------|----------|
| QM-001 | 접근성 검증 | 자동화된 접근성 테스트 | Lighthouse 95점 이상 | axe-core, ESLint jsx-a11y |
| QM-002 | 성능 모니터링 | Core Web Vitals 지속 모니터링 | LCP<2.5s, FID<100ms, CLS<0.1 | Web Vitals API |
| QM-003 | 크로스 브라우저 테스트 | 지원 브라우저 호환성 확인 | Chrome 80+, Firefox 70+, Safari 13+, Edge 80+ | BrowserStack |
| QM-004 | 반응형 테스트 | 다양한 화면 크기 대응 확인 | 320px~1920px 범위 | Chrome DevTools |

#### 4.8.3 Tailwind CSS 4 구현 가이드

##### CSS 파일 구조

```css
/* globals.css 또는 main.css */
@import "tailwindcss";

/* E-Torch 브랜드 색상 정의 (OKLCH 색상 공간) */
:root {
  --primary: oklch(0.2 0.15 240);        /* #0c1e3e → OKLCH */
  --secondary: oklch(0.5 0.2 230);       /* #1a56db → OKLCH */
  --tertiary: oklch(0.45 0.18 220);      /* #0284c7 → OKLCH */
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
}

/* 다크 모드 색상 */
.dark {
  --primary: oklch(0.3 0.15 240);
  --secondary: oklch(0.6 0.2 230);
  --tertiary: oklch(0.55 0.18 220);
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --border: oklch(0.25 0 0);
  --input: oklch(0.25 0 0);
  --ring: oklch(0.4 0 0);
}

/* Tailwind CSS 4 테마 설정 */
@theme {
  /* E-Torch 브랜드 색상 시스템 */
  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  --color-tertiary: var(--tertiary);
  
  /* 타이포그래피 시스템 */
  --font-sans: "Inter", sans-serif;
  --font-mono: "JetBrains Mono", monospace;
  
  /* 브레이크포인트 (기획서 정확 반영) */
  --breakpoint-tablet: 768px;
  --breakpoint-desktop: 1200px;
  --breakpoint-container: 1440px;
  
  /* Shadcn/UI 변수 등록 */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius: 0.625rem;
}

/* 브라우저 호환성을 위한 HSL 폴백 */
@supports not (color: oklch(0 0 0)) {
  :root {
    --primary: hsl(225, 60%, 15%);       /* OKLCH 폴백 */
    --secondary: hsl(225, 80%, 50%);
    --tertiary: hsl(200, 80%, 45%);
  }
  
  .dark {
    --primary: hsl(225, 60%, 25%);
    --secondary: hsl(225, 80%, 60%);
    --tertiary: hsl(200, 80%, 55%);
  }
}
```

##### 구독 플랜별 동적 테마

```css
/* Basic 플랜 제한 스타일 */
@custom-variant plan-basic (&:where([data-plan="basic"] *));
@custom-variant plan-pro (&:where([data-plan="pro"] *));

@theme {
  /* 플랜별 차별화 색상 */
  --color-plan-basic: oklch(0.7 0.1 30);
  --color-plan-pro: oklch(0.6 0.2 270);
}
```

## 5. 성능 및 기술 요구사항

### 5.1 성능 요구사항

| 기능 ID | 기능명 | 설명 | 목표값 | 측정 방법 |
|---------|--------|------|--------|----------|
| PR-001 | 초기 로딩 시간 | 앱 초기 로딩 완료 시간 | < 2초 | Lighthouse |
| PR-002 | 페이지 전환 시간 | 페이지 간 이동 시간 | < 300ms | 사용자 타이밍 API |
| PR-003 | 데이터 로딩 시간 | 차트 데이터 로딩 완료 시간 | < 1초 | 성능 모니터링 |
| PR-004 | 상호작용 반응성 | 사용자 입력에 대한 UI 반응 시간 | < 100ms | 이벤트 타이밍 |
| PR-005 | 메모리 사용량 | 프론트엔드 메모리 사용량 | < 200MB | 성능 프로파일링 |
| PR-006 | 번들 크기 | 초기 JS 번들 크기 | < 200KB | 번들 분석기 |
| PR-007 | 렌더링 성능 | 프레임 드롭 없는 애니메이션 | 60fps | 성능 모니터링 |

### 5.2 기술 요구사항

| 기능 ID | 기능명 | 설명 | 제약조건 | 구현 방식 |
|---------|--------|------|----------|----------|
| TR-001 | 브라우저 호환성 | 지원 브라우저 범위 | Chrome 80+, Firefox 70+, Safari 13+, Edge 80+ | 기능 감지, 폴리필 |
| TR-002 | 오프라인 지원 | 제한된 오프라인 기능 제공 | 기본 기능 접근 가능 | 서비스 워커, 캐싱 |
| TR-003 | PWA 지원 | 프로그레시브 웹 앱 기능 | 모바일 설치 가능 | 매니페스트, 서비스 워커 |
| TR-004 | 접근성 준수 | 접근성 표준 준수 | WCAG 2.1 AA | ARIA, 시맨틱 HTML |
| TR-005 | 보안 요구사항 | 프론트엔드 보안 조치 | XSS, CSRF 방지 | 입력 검증, CSP |
| TR-006 | 다국어 지원 | 다국어 UI 지원 | 한국어, 영어 | i18n 시스템 |
| TR-007 | 테스트 커버리지 | 자동화 테스트 범위 | 핵심 기능 80% 이상 | 유닛/통합/E2E 테스트 |

### 5.3 데이터 처리 제약사항

| 제약사항 ID | 설명 |
|------------|------|
| L-DATA-001 | Time Series/Bar Chart: 단일 차트에 최대 10,000개 데이터 포인트 처리 가능 |
| L-DATA-002 | Pie Chart: 최대 20개 조각 표시 가능, 초과 시 기본적으로 그룹화 |
| L-DATA-003 | Table: 단일 페이지에 최대 100행까지 표시, 초과 시 자동 페이지네이션 |
| L-DATA-004 | 다중 시리즈: 차트당 최대 5개 시리즈 지원 |

### 5.4 브라우저 호환성

| 호환성 ID | 설명 |
|-----------|------|
| C-BROWSER-001 | 지원 브라우저: Chrome 80+, Firefox 70+, Safari 13+, Edge 80+ |
| C-BROWSER-002 | IE 11 미지원 |
| C-BROWSER-003 | 모바일 브라우저 지원: iOS Safari 13+, Android Chrome 80+ |
| C-BROWSER-004 | 최소 화면 너비: 320px(모바일), 권장 화면 너비: 768px 이상 |

## 6. 사용자 경험 요구사항

### 6.1 사용자 경험 목표

| 기능 ID | 기능명 | 설명 | 측정 지표 | 목표값 |
|---------|--------|------|----------|-------|
| UX-001 | 직관적 인터페이스 | 직관적인 UI/UX 설계 | SUS 점수 | > 80 |
| UX-002 | 학습 용이성 | 초기 사용자 학습 곡선 | 첫 작업 완료 시간 | < 5분 |
| UX-003 | 일관성 | UI 요소 및 패턴의 일관성 | 디자인 시스템 준수율 | > 95% |
| UX-004 | 오류 방지 | 사용자 오류 예방 | 오류 발생률 | < 2% |
| UX-005 | 효율성 | 작업 완료 효율성 | 작업 완료 단계 | 최소화 |
| UX-006 | 피드백 명확성 | 사용자 행동에 대한 피드백 | 피드백 인지율 | > 90% |
| UX-007 | 만족도 | 전반적인 사용자 만족도 | CSAT 점수 | > 4.2/5 |

### 6.2 사용자 집단별 요구사항

| 기능 ID | 사용자 집단 | 핵심 요구사항 | 우선순위 | 관련 UI 기능 |
|---------|------------|--------------|---------|-------------|
| UG-001 | 전문 투자자/경제 전문가 | 고급 분석 도구, 세부 차트 옵션 | 높음 | 차트 에디터, 데이터 변환 |
| UG-002 | 일반 투자자/경제 관심층 | 직관적 UI, 템플릿 대시보드 | 높음 | 대시보드 템플릿, 간편 설정 |
| UG-003 | 대시보드 생성자 | 유연한 편집 도구, 저장/공유 옵션 | 중간 | 대시보드 에디터, 공유 기능 |
| UG-004 | 대시보드 소비자 | 간편한 탐색, 구독 관리 | 중간 | 대시보드 탐색, 검색 기능 |
| UG-005 | 모바일 사용자 | 모바일 최적화 UI, 터치 인터페이스 | 낮음 | 반응형 디자인, 터치 제스처 |

## 7. UI 레이아웃 구성

### 7.1 UI 레이아웃

위젯 편집기 화면은 다음과 같은 구조로 구성되며, shadcn/ui의 resizable 컴포넌트를 활용하여 각 영역이 사용자에 의해 리사이즈 가능합니다:

1. **상단 영역 (위젯 설정)**
   - 위젯 유형 선택 드롭다운 (WM-001)
   - 위젯 미리보기
   - 조회 기간 설정 (CS-001) - 데이터 소스가 있는 위젯만
   - 조회 주기 선택 (CS-002) - 데이터 소스가 있는 위젯만
   - 수직 방향으로 리사이즈 가능

2. **우측 사이드바 (옵션 패널)**
   - 모든 옵션 컴포넌트 그룹화
   - 선택된 위젯 유형별 활성화된 옵션 영역만 표시
   - 수평 방향으로 리사이즈 가능

3. **하단 영역 (데이터 소스 설정)** - 조건부 표시
   - 지표별 카드 UI
   - 각 카드에는 데이터 출처, 지표 코드, 시리즈 이름, 시리즈 색상 등의 설정 포함
   - '+Add Query' 버튼으로 추가 지표 카드 생성 가능
   - 수직 방향으로 리사이즈 가능
   - 차트형 위젯 및 Text-데이터기반 위젯만 표시
   - Text-사용자정의 위젯은 숨김

### 7.2 시리즈 관리

- 각 지표(시리즈)는 하단 영역에서 카드 단위로 관리
- 최대 5개 시리즈까지 추가 가능
- 시리즈별로 색상, 이름, Y축 선택, 데이터 변환 방식 등 개별 설정 가능
- 시리즈의 추가/제거는 하단 영역에서 관리

### 7.3 위젯 편집기 구조

위젯 편집기는 다음과 같은 구조로 구성됩니다:

1. **헤더 영역**
   - 차트 제목 편집
   - 저장/취소 버튼
   - 차트 유형 선택

2. **차트 미리보기 영역**
   - 실시간 차트 렌더링 표시
   - 데이터 상태 표시
   - 데이터 포인트 인터랙션

3. **옵션 패널 영역**
   - 그룹화된 옵션 카테고리
   - 활성화된 옵션 표시
   - 속성 값 입력 및 편집 UI

4. **데이터 소스 영역**
   - 데이터 쿼리 카드
   - 출처, 지표, 변환 옵션 설정
   - 시리즈 추가/제거 기능

## 8. 구현 참고사항

### 8.1 기술 스택 참고사항

- shadcn/ui 컴포넌트를 기반으로 UI 구성
- recharts 라이브러리를 활용한 차트 구현
- 현재 recharts에서 지원하는 차트 유형으로 구현 범위 제한:
  - Time Series (LineChart, AreaChart, BarChart)
  - Bar Chart
  - Scatter Chart
  - Radar Chart
  - Radial Bar Chart

- 차트 유형 지원 관련 검토 사항:
  1. recharts에서 지원되지 않아 추후 별도 검토 필요:
     - Gauge
     - Bar Gauge
     - Heatmap
  
  2. recharts에서 지원되지만 현재 제공 예정인 데이터(기획서 부록 참조)로는 활용하기 어려워 별도 검토 필요:
     - Funnel Chart
     - Treemap
     - Sankey Chart

  3. 필요에 따라 다음 방향으로 확장 가능:
     - 기존 recharts 커스터마이징을 통한 기능 확장
     - 특수 목적 차트를 위한 보조 라이브러리(nivo, visx 등) 부분 도입

### 8.2 데이터 소스 관리

- 데이터 소스 설정은 위젯 전체에 대한 공통 설정(기간, 주기)과 시리즈별 개별 설정(출처, 지표)으로 분리
- 데이터 소스가 필요한 위젯: TimeSeries, BarChart, ScatterChart, RadarChart, RadialBarChart, Text-데이터기반
- Text-사용자정의 위젯은 데이터 소스 설정 영역 숨김 처리
- 시리즈 추가/제거 시 차트 구성에 즉시 반영
- 동일한 차트 내 시리즈의 조회 기간과 주기는 항상 동일하게 유지

### 8.3 스타일-데이터 연결 패턴

#### 8.3.1 시리즈 식별자 매핑

- 데이터 소스에서 생성된 시리즈 식별자(series-1, series-2, ...)를 통해 옵션 패널의 스타일 설정과 연결
- TimeSeries: 시리즈별 독립적인 Line/Area/Bar 스타일 선택 가능
- 다른 위젯: 위젯 유형별 특화된 스타일 옵션 제공

#### 8.3.2 스타일 상속 구조

1. **전역 기본값**: 위젯 전체에 적용되는 기본 스타일
2. **시리즈별 오버라이드**: 특정 시리즈에만 적용되는 개별 스타일
3. **동적 업데이트**: 데이터 소스 변경 시 스타일 매핑 자동 동기화
